# Команды Dockerfile

### FROM

* Указывает базовый образ, на котором будет основан новый образ.
```
FROM ubuntu:20.04
```
### RUN
* Выполняет команды в контейнере. Обычно используется для установки программного обеспечения
```
RUN apt-get update && apt-get install -y curl
```
### CMD
* Задает команду, которая будет выполнена при запуске контейнера. Может быть переопределена при запуске контейнера.
```
CMD ["echo", "Hello, world!"]
```
### ENTRYPOINT
* Задает основную команду для выполнения при запуске контейнера. Все аргументы после docker run будут переданы в ENTRYPOINT.
```
ENTRYPOINT ["python3"]
CMD ["app.py"]
```
### COPY
* Копирует файлы или директории из контекста сборки на файловую систему контейнера.
```
COPY myapp /app
```
### ADD
* Похожа на COPY, но с дополнительными возможностями, такими как автоматическая распаковка архивов и возможность загрузки файлов по URL.
```
ADD myapp.tar.gz /app
```
### WORKDIR
* Задает рабочую директорию для последующих команд RUN, CMD, ENTRYPOINT, COPY, и ADD.
```
WORKDIR /app
```
### ENV
* Устанавливает переменные окружения.
```
ENV PATH="/app/bin:${PATH}"
```
### EXPOSE
* Документирует, что контейнер прослушивает указанные сетевые порты во время выполнения.
``` 
EXPOSE 8080
```
### VOLUME
* Создает точку монтирования и обозначает, что директория может быть использована для хранения данных, которые должны сохраняться вне контейнера.
```
VOLUME ["/data"]
```
### USER 
* Устанавливает имя пользователя или UID для использования при выполнении следующих команд.
```
USER appuser
```
### ARG
* Задает переменные для передачи значений при сборке образа. В отличие от ENV, используется только во время сборки.
```
ARG build_version
RUN echo "Building version ${build_version}"
```
### ONBUILD
* Задает инструкции, которые будут выполнены в дочерних образах, созданных на основе текущего образа.
```
ONBUILD RUN echo "This runs on child image build"
```

## Пример Dockerfile

```
# Указываем базовый образ
FROM ubuntu:20.04

# Устанавливаем рабочую директорию
WORKDIR /app

# Копируем файлы в контейнер
COPY . /app

# Устанавливаем необходимые пакеты
RUN apt-get update && apt-get install -y python3 python3-pip

# Устанавливаем переменные окружения
ENV PYTHONUNBUFFERED=1

# Устанавливаем зависимости Python
RUN pip3 install -r requirements.txt

# Открываем порт 5000
EXPOSE 5000

# Задаем команду по умолчанию для выполнения
CMD ["python3", "app.py"]
``
